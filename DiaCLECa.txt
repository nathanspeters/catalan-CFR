$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$
$ Clayton's CLEF cascade up until middle Gallo-Roman, for purposes of testing.
$ If your DiaSim installation and catalan-CFR are in sister subfolders within a Github folder, use:
$ ./derive.sh -s -lex ../catalan-CFR/lexicon.txt -rules ../catalan-CFR/CLEF_to_GalRom.txt 
$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$
$ See also - a few ballpark implementations of later cat rules are at the bottom



$From Mildred Katherine Pope's 1934 "From Latin to Modern French"
$We follow exactly the order as stipulated in Chapter II starting on page 72, with some input from other chapters where appropriate
$However, she explains in her elaboration chapters some places where clearly the order is not what it is listed as in Chapter 4,
$ ... so we implement those instead
$ ---------------------------------------------------------------------------

$Characteristics of Classical Latin as per Pope page 75
$ CORRECTION: We delete Pope's handling of Classical Latin's variant /l/ forms,
	 $as they do not seem to be diachronically relevant, 
	 	$and harm performance.
n̪ > ŋ / __ [+hi,+back,-cont]
ɡ > ŋ / __ [+nas,+cor]
[+lo] > [-front,+back]
[+lo] > [+front,-back] / __ e̯
{j;w} > [+cons,-son] / __ [+syl] $as per Pope s106 -- Pope considers w and j when not "vocalic" (i.e. part of diphthong) to be fricative
	$ for j, p55 s106c ; for w, p56 s109
$ Note that the sequence u: + w does not seem to occur in Latin 
$ If it did there would be some logical issues with Pope's rules -- i.e. s343 she states "beta from b" is effaced after u: 
	$ where of course w (by which she means gamma^w) had already shifted to beta s186 much earlier 
	$ -- of course sound change has no memory! However this issue is moot because u:+w doesn't occur in Latin it seems
	
$ CORRECTION : Pope forgets to explicitly say that w is a proper w not ɣʷ after velar consonants hence why we don't end up with tons of kv clusters.
$ To be sure she does note (s186) that "betacism doesn't occur after k" but she doesn't notice that other affects she attributes to ɣʷ are not occurring in the presence
$ of k -- such as the deletion of the rounded "fricative"/approximant before ʝ (indeed after kw, it is the ʝ that is deleted it seems...) 
ɣʷ > w / [+back,+hi,+cons] __ 

$Pope p226 s629
$In the second century, all aspiration on Greek loanwords was lost. 
[+sg,-cont] > [-sg] $ FLAG i think this might be bled by pʰ > f, but given that pʰ still ends up as β in at least one form, maybe not... then again, possibly pʰ > f > v > β

$Pope p226-7 s632
$ Greek y unrounded to i 
[+hi,+front] > [-round,-lab]

$ beginning of Late Latin shifts here... 
$As per Pope's paradigm, it is considered Late Latin if it occurred before the end of the fifth century
$ we place the marker later as per the FLLAPS table. 

$p144 s359 ~ p73 s156iii --- ns > s, with compensatory lengthening of prior vowel -- must have occurred before nature of length changed
$Pope says "very early" s359
$CORRECTION: now lengthening occurs in the context of non-stressed following syllable,
	$ and the n loss is triggered by being between a specifically long vowel and s.
[+syl] > [+long] / __ n̪ s ([-syl])* [-stres] 
n̪ > ∅ / [+syl,+long] __  s

$p144 s359 ~ p73 s156iii --- rs > s after long vowels, > ss after short vowels
	$must have occurred before nature of length changed
	$ implicitly consecutive vowels are "long" and second becomes so if not-- case of deorsum
$ CORRECTION : we only implement the stipulated shifts occurring 
	$after long vowels and two vowel sequences, and not after two vowel sequences either.
	$ Because the rs > ss shift after single short vowels 
	$ seems to only be correct for two lexemes, persica and dorsum.
$ (CORR cont'd) we also now suppress the part of the rule that occurred after two non-consonantals, no targets as deorsum was attenuated)
[+cor,+son,-nas,-lat] > ∅ / [+syl,+long] __ s 
$ [+cor,+son,-nas,-lat] > ∅ / [-cons] [-cons] __ s

$ CORRECTION: stressed i + e > iː x (pietatem type lexemes affected)
	$ needs to bleed any detensing that occurs via Pope s154i
	$ may have appearance of overfitting but Pope explicitly notes case of pitie' as pixt- thus implying this (in BaseCLEFstar too)
[+hi,+front,+stres] e > [+long] x / __ [-nas,+cons] $ HUGE FLAG i added +cons to this but it only affects one word -nathan

$Page 72-73, section 154i ~ elaborated p 89 s 179 
$Classical Latin length distinction becomes a quality ("tense" for us) distinction
[+syl,-lo,-long] > [-tense]

$p73 s155i ~ p91 s185 -- h-loss word-internally Pope explains that this happened word-internally first "very early", word initially later 
h > ∅ / @ __

$p145 s361- i-prosthesis -- happens in Western Romance very early, attested second century
	$ also F134
∅ > ˌɪ / # __ s [+cons] 

$p100 s214i -- one case of regular stress movement, attested in third and fourth centuries . 
$ movement of stress onto the penultimate if antepenultimate is immediate adjacent short vowel
$ Must come before yod formation (s220), which it feeds, as per s214i -- not attested till the 3rd century but Pope seems to be saying it actually occurred earlier. 
[+syl,-lo,-hi,-stres] > [+prim] / [+prim,-lo,+front,-long] __ ([-syl])* [+syl] ([-syl])* #
[+prim] > [-prim] / # ([-syl])* __ [+prim]
[+prim] > [-stres] /  __ [+prim]

$p100 s214ii -- the (only?) other case of regular stress movement-- occurred around the same time but not for the educated classes
$stress on antepenultimate moves forward ("ordinarily") if the second consists of short vowel + plosive + r
[-stres] > [+prim] / [+prim] ([-syl])* __ [-cont] r ([-syl])* [+syl] ([-syl])* #
[+prim] > [-prim] / # ([-syl])* __ ([-syl])* [+prim]
[+prim] > [-stres] / __ ([-syl])* [+prim]

$p73 s155iib and p91 s187 -- we know develarization of w came very early, 1st/2nd century (Reign of "Nerβa") and that it was preceded by 
$ the gliding phenomenon below

$p102 s220 (also p73 s156i)  -- yod and w formation -- gliding of unstressed short non-low vowels before other vowels
$ -- called upon to be this early by p91 s187
[+syl,-long,-stres,-lo] > [+hi,-syl,+tense] / __ [+syl]

$ CORRECTION: uː unstressed becomes sonus medius 
	$-- diachronically equivalent to ɪ 
	$ -- before a non syllable and not near word boundary 
	$ -- but does not bleed prior yod formation (see adiu:ta:re)
		$ or feed it (manu:opera)
$uː > ɪ / __ [-syl] @ $ appears to be untrue for catalan -nathan

$ per s220 : yod is lost between e and p,r
j > ∅ / {p;r} __ [+front,-hi,-lo,+syl]

$ CORRECTION: before j is consonantalized,
	$, dark l emerges from l specifically before consonants (except l)
	$ (this is in effect a reduction of the scope of Pope's previous rule of Latin l-darkening)
l > [+back] / __ [+cons,-lat]

j > ʝ / __ [+syl] $as per Pope s105c, 106
$ w, newly from u,o in hiatus is clearly NOT effected by this as per treatment in s374

$ CORRECTION (addition) : ʝ is deleted when coming after # + velar + w (cases of quie:tum etc...)
	$ this may look like overfitting but the errors that result are of a frankly uninteresting nature and better removed.
ʝ > ∅ / # [+back,-cont] w __

$p91 s187iic -- explicitly must come after p102 s220 
$effacement of w before jod. 
$NOTE however that in many nouns this was reversed by analogy (see p92 s188)
$affects w as per laqueum > latz > "lacs"
{ɣʷ;w} > {∅;∅} / [+hi,-cor] __ ʝ
$found non-analogical conditioning ([+hi,-lat]) that improves accuracy greatly. -nathan
$besides, forms like ˌɑbbrˌɛɣʷʝˈɑːrɛ, ˌɑɡɡrˌɛɣʷʝˈɑːrɛ, and ˌɑllˌɛɣʷʝˈɑːrɛ couldn't have been repaired by analogy because ʝ is present across the paradigm.

$p91 s187iia
$ CORRECTION: This seems to only reliably occur after /ɑ/ and /ɑː/ -- this is a better reason why vivum, ovum and nativum are unaffected than "analogy" (which Pope says in s188).
ɣʷ > ∅ / [+lo] __ [+syl,+round]

$ as per s186iib -- w effaced between k and a rounded vowel
	$ Note most authors interpret this differently, as the delabialization of k
	$ Note also that Pope seems to have missed that his also happend after g?
w > ∅ / k __ [+syl,+round]

$ p115 s261-264 ~ s221 ~ s156i
$ *** Note as per s156i, for Pope this is a "tendency" 
$ the slurring ... of "proparoxytones" ... i.e. where the tonic syllable was followed by two unstressed sylls before the word coda
$ ... typically concerning those which are common suffixes here.
$ Pope attests this with the Appendix Probi, which was written in the third or fourth centuries but does not say that is when it specifically occurred. 
$ Because of words like "table", we know it probably occurred before lenition of intervocalic b (early second century) but Pope does not confirm this either. 
$ By placing it here before the beginning of betacism, we are giving Pope the benefit of the doubt. 
$ This is also inline with what she states about the -itus,-itum etc group -- she is holding that this phenomenon occurred before the beginnings
$ 	of palatalization  (s296)
$ Further note : s262b -- Pope notes that sometimes the older forms were restored by preservative analogy via "clerkly influence" 
$ p115 s262a -- effects on -ulus,-ulum,-ula words. Attested for affecting those where preceding cons is k,g,t,p or b. There don't seem to be
	$ any words of this type ending in -dulus,-dulum, or -dula. 
$ CORRECTION : -mulum endings also effected (cumulum > comble; tremulum > tremble) 
$ CORRECTION : -rula endings also effected (berula (Gaul.) > berle not bierle) 
$ CORRECTION: -olum,-olus endings also included if not after a labial stop
$ FLAG this seems to not occur in a number of forms... investigate later
{ʊ;o} > {∅;∅} / [+prim] ([-syl])* {[-cont];m;r} __ [+lat] [+syl] ([-syl]) #
ɔ > ∅ / [+prim] ( [-syl] )* {[-cont,-lab];m;r} __ [+lat] [+syl] ( [-syl] ) #

$ p115 s262b -- effects on the -idus,-idis,-itis etc group : for prior consonsants Pope lists l, g, t, s, k, and r
	$ the most faithful way to render this also in line with Occam's Razor would seem to be [+cons] 
	$ *** NOTE s353 -- seems to imply it was possible for this to NOT occur for some words
	$ note also the frigidus contradiction: s297 & s316 vs. s262ii & s296i
$ CORRECTION: ɪ does not disappear before t at this point as all the affected words (hospitem, comitem, lenditem, limitem) need to eject ə after final vowels are lost
$ CORRECTION: ɪ only disappears before d[+front,-lo] when after a sonorant (magidem must also eject ə -- so cluster must be formed in Gallo-Roman stage)
$ CORRECTION: ɪ before dʊ does not disappear if previous consonant is voiceless, as these will need to eject ə in Gallo-Roman when final vowels are lost (muccidum, nitidum, sapidum, tepidum)
	$ CORRECTION: it DOES disappear before voiced stops though (frigidum)
ɪ > ∅ / [+prim] ([-syl])* [+son] __ d̪ [+front,-lo] ([-syl]) #
ɪ > ∅ / [+prim] ([-syl])* [+cons,+voi] __ d̪ [+back,-lo] ([-syl]) #

$ p115 s262c -- effects on intertonic (non-low) vowels standing between n/l and r 
[-lo,-stres] > ∅ / [+prim] ([-syl])* n̪ __ r [+syl]
[-lo,-stres] > ∅ / [+prim] ([-syl])* [+lat] __ r [+syl] 

$ CORRECTION : ɪ deleted between k/ɡ and l if the velar stop is not preceded by an /ɑ/ variant 
ɪ > ∅ / [-lo,+syl] [-cont,+back] __ l

$s127 s296i fakere case
$ CORRECTION: targets only unstressed front vowels, does not occur after anything but ɑ, and doens't occur before l
[-stres,+front] > ∅ / [+prim,+lo] [+back,-cont] __ [+cor,-strid,-nas,-lat] [+syl]
$ CORRECTION: hits after ɡ too -- cases of digitum, fugitam. Any vowel can come before the d.
$ CORRECTION: hits before n too -- cases of plantaginem, acinum (circinum?? Not anymore.). Any vowel can come before the n. $ HUGE FLAG this does not appear to be the case in a large number of catalan etyma (from latin plantaginem, farraginem, imaginem, caliginem, ferriginem), although these may be later borrowings
$ CORRECTION: no k_d seqments, only ɡ_d 
[-stres,+front] > ∅ / [+syl] ɡ __ [+cor,-lat,+voi] [+syl] 

$ CORRECTION : slur short i between ɣʷ and k 
$ Pope lists avica and avicellum as having been effected by "slurring" in s187i 
	$but doesn't state that i was slurred here explicitly elsewhere
ɪ > ∅ / ɣʷ __ k

$as per p91 s187i -- ɣʷ > w when preconsonantal due to "slurring"
ɣʷ > w / __ [+cons]

$ CORRECTION: a much more effective and thorough way to describe the 
	$apparent contexts of deconsonantalization of ɣʷ here...
$ actually covering two shifts
$ it appears that this occurred in all ɑɣʷɪ sequences : navicellam, navicam, avicam, avicellam, Pictavis, etc...
$ Pope (s187i) says this is due to "slurring" but she nowhere else described the "slurring" phenomenon that would have fed the rule in this way
$ Doesn't happen when the posterior ɪ is stressed it seems -- see kˌɑwˈɪkulɑm > ʃəvij
$ Hence this is the most efficient way to represent it...: 
$ CORRECTION : abrogated for now as no effect due to correction @ line 175
$ ɣʷ > w / [+lo] __ ɪ 
$ next, to cover the ɑɣʷɑ sequences: bauam, flavam, cavannum. 
$Doesn't seem to happen for -aːre verbs (lava:re) 
	$ -- this can be represented by only allowing the posterior ɑ to be short
ɣʷ > w / [+lo] __ [+lo,-long]

$p91 s186: w>beta. Occurred during the 1st and 2nd century ("Nerβa")
$ CORRECTION : as evidenced by Pope s343 causing errors for 10 words that became β from ɣʷ,
$ they did not merge this early, and must have merged AFTER that -- instead we send ɣʷ to βʷ 
$ NOTE: delete and reinsert the <ʷ> to turn off/on the demo
ɣʷ > βʷ

$p73 s155iia and pp136-137 ss332-336 and p6 s9 : b > β intervocalically or between vowel and r (s372)
$According to s336 this occurred very early at least for the bilabial, 2nd century AD 
$Later authors group all voiced stops together for this shift, but Pope is unclear
$She states (s336) that it is attested earlier for b than the others but is unclear
$However she indicates a shift order in s307i that necessitates velar stop palatalization preceding intervocalic lenition
$So we give her the benefit of the doubt and place the lenition of the rest of the velar stops later,
$Right after the beginning of palatalization.
$ she is not clear about whether her j and w ("fricatives") are sonorant, but we will assume they are NOT
	$... given that she called them fricatives -- this is supported by her trajectory for rubeum > rouge (s676)
b > β / [+syl] __ [+son,-lat,-nas]

$ p115 s263 -- with proparoxytons with intervocalic g, both g and preceding vowel deleted "early" (s263)
	$ given the hypothesized forms listed by Pope, it is clear she thinks this happened before  ɪ > e and ʊ > o 
[-stres] ɡ > ∅ / [+prim] ([-syl])* __ [-stres] ([-syl])* #

$ per Pope s185 and s198, combination of vowels that have become adjacent and share the same quality become a single long vowel of same quality
$ in practice this only happens for e'e and o'o.
$ CORRECTION: o'o made tense.
[+front,-hi,-lo] [+front,-hi,-lo,+prim] > ˈeː
[+round,-hi] [+round,-hi,+prim] > ˈoː
[+front,-hi,-lo,+stres] [+front,-hi,-lo] > ˌeː

$Page 72-73, section 154i ~ elaborated p 89 s 179 , s222
$Classical Latin length distinction becomes a quality ("tense" for us) distinction
[+syl,-lo,-long] > [-tense]
[+syl,+long] > [-long]

$p73 s154iii ~ p190 s504 -- seems to have first occurred in the first and second centuries s504
$giving her the benefit of the doubt, we place this after the length > tense shift, as otherwise oe would become ɛ
$ 	given that she doesn't specify it as long and writes it like a short vowel 
{a e̯;ˌa e̯;ˈa e̯} > {ɛ;ˌɛ;ˈɛ}
[+round,-hi,+syl] e̯ > [+front,-round,-back,+tense,-lab] ∅

$p144 s359 ~ p73 s156iii : simplification in ŋks, ŋkt clusters
k > ∅ / ŋ __ [+cor,-voi]

$p144 s359 ~ p73 s156iii : kst > st rule 
k > ∅ / __ s [+cons]

$p144 s359 ~ p134 s324-325 ~ p73 s156iii ~ p64 s130 ~ p6 s9i
$ frication of k before t,s ; attributed to Gaulish substratum p6 s9 (RECTUM > REXTUM -- see also discussion of attestations like paraxsidi in other sources.) 
$ Pope doesn't discuss the specific ordering of this vis-a-vis the kst>st rule, but this one would bleed that one and she never discusses an xst>st rule,
$ so we favorably assume this one comes second.
$ BaseCLEF* CORRECTION -- Pope fails to explicitly state that this only occurs after nonconsonantals
	$ hence nkt and etc clusters are not effected. But this is not an interesting error. 
k > x / [-cons] __ [+cor,-voi] 

$CORRECTION: countertonic /ɛ/ closes back to /e/ before ssʝ (not sj -- see prehensionem > prison)
ˌɛ > ˌe / __ s s ʝ

$p144 s359 ~ p73 s156iii : g > w before m, Pope says this is first attested in the 3rd/4th century Appendix Prodi 
$"opened and vocalized"-- Pope is explicit that it passes through a fricative stage p65 s135b
ɡ > [+cont] / __ m 
ɣ > w / __ m 

$p73 s156vi ~ p191 s505 ~ p64 s131: au > a under influence of tonic u in next syllable (irregardless of tens e or length)
$ ... NOTE: Pope is not clear about when exactly this occurred, but we place it before ʊ > o for convenience
[-syl,-cons,-lo,+round,+back] > ∅ / ˌɑ __ ([-syl])* [+stres,+hi,+round,+back]

$p73 s154i ~ elaborated p89 s180 : ɪ > e and ʊ > o 
$according to Pope the lowering of ɪ was earlier than taht of ʊ "which retained its value in parts of the Roman Empire up to the present"... but doesn't specify when exactly
$best to just place them together here. 
[+hi,-tense] > [-hi,+tense] 

$p328 s854 ~ p64 s131 : dissimilation of tonic vowel juxtaposed to final flexional vowel. 
$ *** this is a "tendency" as per Pope s854
$ Other authors have other explanations for this, like tensing of vowels before other vowels or even much earlier lengthening of them 
ˈo > ˈɔ / __ [+hi,+syl,+back]
ˈɛ > ˈe / __ [+lo]
ˈe > ˈi / __ e

$ p73 s156v ~ s262 ~ s360 
$ tl > kl -- attested first in the Appendix Probi as per Pope p145 s360
$ as noted by Pope s262, sometimes reversed under "clerkly influence" by preservative analogy
t̪ > k / __ [+lat]

$ p97-98 s205i ~ p73 s156ii : final m deletion  -- 
$ ... unlike some later authors Pope does not recognize a nasalization in Late Latin, instead holding that simple nasal consonant deletion occurred
$ Pope doesn't explicitly date this but considers it first attested in teh 3rd/4th century Appendix Probi
$ Pope notes it did not occur in monosyllabic words 
$ NOTE: as per p97-98 s205i -- unlike Italy and also South Gaul, North Gaul did not see effacement of s and t word-finally,
$ ... because "pronunciation was influenced by the teaching in schools" in North Gaul -- though this mainly concerns final t and s 
$ CORRECTION : clear also final -n in words like materiamen
$ CORRECTION : change trigger -- we are deleting final m specifically after vowels that lack stress, regardless of number of syllables
	$ monosyllables -- quem is totally stressless; suum, tuum, meum, in -- countertonic and nasal preserved at this stage. 
[+nas,+cons] > ∅ / [-stres] __ #
$ CORRECTION : also deleted after countertonic ɑ
[+nas,+cons] > ∅ / [+lo,-prim] __ #

$ p185 s488 : o > ɔ before labial consonants 
$ *** NOTE : This is called a "TENDENCY" by Pope
$ she does not give a date to it other than saying it Late Latin
$ --- we give her the benefit and place it after final m deletion 
$[+round,-hi,+syl] > [-tense] / __ [+lab,-son] 
$ CORRECTION: we are discarding this rule : it seems to be just wrong, per 40 effected words. 

$ -- kwinkwe > kinkwe dissimilation
$ Pope s823 iii. 
w > ∅ / k __ [+syl] ([-syl]) k w [+syl] $ +F177

$ CORRECTION : ts goes to f before a sonorant consonant (tsrokna, etc.) 
$ can be seen as overfitting, but necessary to assimilate loanwords and we are more interested in French sound shifts not Latin ones. 
t͡s > f / __ [+cons,+son]

$FIRST PALATALIZATION: Palatalization begins in the fourth century as per Pope p129 s304
$t and d preceding yod become palatalized affricates
$p130 s308-9
{t̪;d̪} > {t͡sʲ;ɟ} / __ [+hi,+front,-syl,+cont] 

$ as per s306ii : k+yod > c c intervocalically only 
k > c c / [+syl] __  ʝ [+syl]

$p 124 s283-284 : palatalization of velar stops before e and i, s306-307 for before yod
[+hi,+back,-cont] > [+front] / __ [+cont,-lo,+front]
[+back,+front] > [-back] 

$ CORRECTION : regressive palatalization of geminate k
k > c / __ c

$p127 s296ii : palatalization of k blocked if coming after secondarily stressed velar vowel
$ ... and before intertonic unstressed e (<ɪ) 
$ CORRECTION : we broaden this to all unstressed e,ɛ before t, r or l, to hit words like iacet 
$ CORRECTION : occurs specifically after stressed velar vowels, and not when t is word final
c > k / [+back,+stres] __ {e;ɛ} {t̪;r;l} @

$ CORRECTION : l deleted when immediately before ɲ 
$ she actually has the effects of this in her citation forms for Late Latin (s686) 
 $ -- but she doesn't explicitly state it. 
 $ (included in BaseCLEFstar) 
[+lat] > ∅ / __ [+nas] ʝ

$CORRECTION: opening of voiced velar and palatal stops intervocalically occurs early enough to get into Pope's sound tables.
[-cont,+hi,+voi] > [+cont] / [-cons] __ {[+son,-lat,-nas];ʝ}

=Late Latin

$ cutting Pope off here because Francesc deals a lot with sound changes from vulgar latin so i'm going to just use his work from this point forward to establish our baseline. EDIT: actually going to try to integrate the rest of pope now

$absorption of yod into prev, now palatalized, consonant
ʝ > ∅ / [-cont,+hi,+front] __

$p131 s311, assigned to Late Latin in p73 s155-5iv :
$ as per s293 and s156 however this did not YET affect ng + pal-stop -- i.
$ trigger again in Gallo-Roman stage.
$CORRECTION: This is bled by an early shift of mnj to mmj
$ does not appear in Pope's s660-680ish tables. 
$n̪ > m / m __ ʝ $ COMMENTED OUT don't think this happens in catalan
$[+nas,+cor] [+hi,+front,-syl,+voi,+cont] > ɲ $ +F193 this is commented out because i don't think this happens here in the relchron. it does what it's supposed to do most of the time though

$p131 s312, assigned to Late Latin p73 s155-5iv -- but not evident in Pope's tables in 660-680 for that stage
$ as per s293 and s156 however this did not YET affect l + pla-stop -- i.e. not words like culcita 
$trigger again in Gallo-Roman stage
l l ʝ > ʎ
$l ʝ > ʎ $ +F194 FLAG may happen way later EDIT: it totally happens later

$ CORRECTION: unstressed vowels deleted between [+syl] w and {t;d}
	$ even when not penultimate (Pope's rule s353 applies only for penultimates
		$... where Late Latin is concerned) 
	$ 2 examples -- may need to delete as overfitting? But it is consistent with other patterns of unstressed /ɪ/ deletion 
$[-stres] > ∅ / [+syl] βʷ __ [+cor,-cont] $ COMMENTED OUT doesn't appear to be doing anything?

$per Pope s353: unstressed penultimate ɪ in -item, itum, idum, ita endings is deleted before any d > ð
$ we can use /e/ here because if it was e:, it would be stressed. 
$ CORRECTION: include also the syncope of vowels before n̪ 
$ CORRECTION: when before a vowel in coda position it instead goes to "evanescent" ə̯ 
 $ (which will be completely effaced instead only in the Gallo-Roman stage) 
 	$ before t when after a consonantal continuant then a stop
$e > ə̯ / [+cont,+cons] [-delrel] __ t̪ [+syl] # $ FLAG made it worse
$e > ∅ / __ [+distr] [+syl] ([-syl]) # $ FLAG made it worse

$CORRECTION ə̯ inserted between p and d (rapidum, sapidum, tepidum > rade, sade, tiede | etc) 
$∅ > ə̯ / p __ d̪ $ COMMENTED OUT doesn't appear to be doing anything?

$ CORRECTION : n̪ > m / p __  -- case of carpinum > charme etc
$ Pope does cover it but doesn't attribute it to Late Latin.
$n̪ > m / p __ $ COMMENTED OUT doesn't appear to be doing anything?

$ CORRECTION : earliest flapping with n comes into contact with d due to falls of vowels here: 
	$ cases of Londres, ordre, desordre, etc. 
$ We can just send it straight to the trill here
$ bleeds s365
$ Pope attributes this to a variety of non-phonological factors
	$ but it can be modeled regularly. 
$n̪ > r / d̪ __ $ COMMENTED OUT doesn't appear to be doing anything?

$ CORRECTION : earliest implementation of s365 (Pope attributes these to Gallo-Roman)
$ necessary to correctly bleed some of the following lenition shifts.
$ s365 : deletion of all plosive consonants internal to a cluster not ending in l or r 
$ CORRECTION: also does not target consonants before ʝ
$[-cont] > ∅ / [+cons] __ [-son,-hi] $ +F175? $ COMMENTED OUT doesn't appear to be doing anything?
$[-cont] > ∅ / [+cons] __ [-cont,+hi] $ +F175? $ COMMENTED OUT doesn't appear to be doing anything?

$ CORRECTION: s365i inserted here too, earlier than Pope explicitly states it is. 
$ s365i : additional deletion of velars in rgl, skl
${s k;r ɡ} > {s;r} / __ l $ COMMENTED OUT doesn't appear to be doing anything?

$p73 s155iia and pp136-137 ss332-336 and p6 s9 : intervocalic lenition between vowel and (vowel or r)
$ valid targets before r included plus d before l -- s372
$According to s336 this occurred very early at least for the bilabial, 2nd century AD 
$Later authors group all voiced stops together for this shift, but Pope is unclear
$She states (s336) that it is attested earlier for b than the others but is unclear
$Her tables show a lenition of g to gamma for Late Latin but not d to delta
$However she indicates a shift order in s307i that necessitates velar stop palatalization preceding intervocalic lenition
$So we give her the benefit of the doubt and place the lenition of the rest of the velar stops later,
$Right after the beginning of palatalization. This should be roughly 4th century
$ inclusion of palatal voiced stop in this shift -- as per Pope p127 s297
$[-delrel,+voi] > [+cont] / [+syl] __ [+son,-lat,-nas]  $ FLAG made it worse
$d̪ > ð / __ [+lat] $ FLAG made it worse (i'm thinking having lenition this early on is bad and also i have a bunch of ɟ rules that are no longer working properly if they're getting lenited) honestly though most of the stuff after the e>ə and syncope is breaking everything so i'm just gonna say the split was earlier than this.

$ s353 : devoicing of labial and dental consonants that are now before t 
$ since aidier is excluded, we can dodge fixing palatals too. 
$ [+ant,+cons,-son] > [-voi] / __ t̪ $ COMMENTED OUT doesn't appear to be doing anything?

h > β / __ [+round,+syl] [+cont,-son,+voi] $ h simultaneous assimilation to vowel and following fricative. not in francesc. only affects a hodie > avui (so far), but seems to be motivated well enough to keep. FLAG to reevaluate later

$p73 s155i ~ p91 s185 -- as Pope explained, h-effacement happened word-internally first. 
$It was apparently still being resisted among the educated classes at the time of St. Augustine, 4th century and early 5th century 
h > ∅

$p73 s156vi -- influence of tonic vowels on countertonic vowels
$***NOTE Pope calls these "TENDENCIES"
$ she does not seem to give a date to these
$ s127 for i > e
$ s128 for e >a 
$ s505 for aw > a under influence of u specifically 
$ˌi > ˌe / __ ([-syl])* [+hi,-round,+prim,+tense] $i.e. by i $ FLAG made it worse $ also F66 says pretty much the same thing but the rule that I wrote for it isn't doing anything (perhaps because i didn't include the secondary stress). this rule is probably overfitting.

$ and as there are no long vowels in Catalan, i can say i'm fairly confident there aren't any lengthening rules before the split.

ɫ > l $ here for convenience

l > ʎ / # __ $ F106

b > ∅ / {#;[-front]} [+stres] ([-cons,-syl]) __ ʝ $ F181 HIT? $ THIS FEELS LIKE OVERFITTING. [-lat] only fixes llabi $ EDIT [-front] feels like a way better block but let's keep this in mind for later just in case. $ HUGE FLAG this seems to only affect forms coming out of late latin. <--...what other forms are there?

w > β / __ ʝ [+syl,-stres] $ HIT? not in francesc(?). w assimilating manner to following "hard" yod in this context. possible new sound law.

βʷ > β $ marr
β > b $ marr
{ɑ;ˌɑ;ˈɑ} > {a;ˌa;ˈa} $ marr

[-lo,-hi,+tense,+front] > [-tense] / __ ʝ [+front,+hi,+syl] $ not in francesc. only certain that it affects one word. could also affect 711 fugire>fugir if we removed +front, but doing so would not change the result. this is motivated as height dissimilation
$[-lo,-hi,+tense,+front] > [-tense] / __ t̪ t̪ $ not in francesc; seen in multiple words $ <--following rules might make this irrelevant? blocking for now just in case

[+round] > w / [+syl] __ $ I'm sure this is in francesc somewhere but idk where FLAG find good citation

[+front,-hi,-lo,+tense] > [+hi] / __ [+nas] [+cons] [+cons] $ F45d
[+front,-hi,-lo,+tense] > [+hi] / __ ([+cons]) w $ F45e

$$$$$ THE GREAT CATALAN STRESS SHIFT $ ...needs workshopping
$[-hi,αlo,αtense] [-syl] [-lo,+tense,+prim] > [+prim] [-syl] [-prim,-stres] / # ([-syl])* __
$[-hi,αlo,αtense] [-syl] [-syl] [-lo,+tense,+prim] > [+prim] [-syl] [-syl] [-prim,-stres] / # ([-syl])* __

ʝ > d̪ / # __ [+syl] ʝ $ I (nathan) added this. it's probably just analogy to other forms with the de- prefix from latin but it happens to all of the examples we have of this in our dataset so here it is

$$$various early assimilations. might be able to generalize these even further later
[-cont,+voi] > p / __ p $ not in francesc but also not very shocking
d̪ > k / __ k $ there's no way this isn't somewhere in francesc but idk where it is.

[-cont] > [-voi] / # [-prim] __ [-voi] $ prefix consonant devoicing rule. may need further specification. probably in fransesc

x > ∅ / __ [-cont,+voi] $ FLAG where did this come from? why didn't i say where it came from?!

w > ∅ / [-back,+cons] [-back,+cons] __ $ F179
w > ∅ / n̪ __ $ F179

$w > ∅ / {k;ɡ} __ [+front,-lo] $ i'm sure this is in francesc somewhere but idk where FLAG FIX CITATION $ i moved this a lot later in the cascade but that may have been the wrong move... please review later

ŋ n̪ > ɲ $ F155 not really what francesc says happens but i'm giving him the benefit of the doubt and just writing a rule that actually does something

s > ∅ / __ b $ F150 FLAG might be in pope. look for it later

p > ∅ / # __ {s;t̪} $ F134 FLAG this might be somewhere in pope and i just didn't see it lol

{t̪;d̪;k} > {∅;∅;∅} / [-nas] __ # $ F121 HIT? added [-nas]

d̪ > ∅ / # [+syl] __ [-cont] $ could very well be in francesc but idk where

m > n̪ / [+ant] [+syl] __ # $ F123 HIT? francesc didn't specify this context but it appears to be the correct context.

m > ∅ / __ # $ F123 btw this rule and the above rule only work if the m is deleted in polysyllabics before this point, but i think clayton and/or pope already did this for me, so yay!

m > n̪ / __ n̪ $ F157 not what francesc says actually happens but i think it's a way more plausible hypothesis than a bilabial and a dental "coalescing" into a palatal $ FLAG think this needs to be moved.

∅ [+syl] r > r [+syl] ∅ / [+syl] ([-syl])* __ # $ F124   R METATHESIS

$ FLAG revisit F166 for whatever is going on with the r>l HOWEVER don't include in baseline as francesc appears to not know what's going on ALSO probably doesn't happen in oriental? but if it does it's r > l / __ l and it's AFTER l l > lambda

{p;b} > {t̪;t̪} / @ __ t̪ $ F137 NOTE TO CLAYTON i wish i could only have one output listed here. just sayin'

ˈo > ˈu / __ [-cons] $ F59
ˈo > ˈu / __ [+nas] [+hi] $ F59

i > e / # ([-syl])* __ ([-syl])* ˈi $ F66 FLAG because is it e or ɛ? also does this happen in front of unstressed i as well? FLAG for removal. doesn't appear to be doing anything

a > e / [+stres] ([-syl])* __ [-syl] $ F80
a > e / __ s # $ F89 FLAG revisit because francesc yaps a lot on this one and i don't wanna miss anything

$ FLAG revisit F96 in case any germanic loans were included in CatLLex. rule should be something like ɡwa > ɡo

d̪ > ∅ / @ __ {r;v} $ F144+145 and F147 FLAG this might be assimilation (and francesc might call it that) but then we gotta get v-b merger above the degemination rule EDIT: v-b merger now above degemination rule. HIT? added @

$u > o / __ m $ F75 COMMENTED OUT doesn't appear to be doing anything?

$ FLAG revisit F144+145 if we need to figure out when d>j/__r and j>0 happen
$ FLAG revisit F145 if d>w turns out to not be analogy

d̪ > s / __ s $ F147

ʃ > s / __ [+syl] ʒ $ footnote of F154 FLAG idk if that conditioning is correct

$ FLAG footnote in F36 suggests a diphthongization of ˈɛ>jˈe but that doesn't seem relevant At All

ɡ > ɟ / __ n̪ $ not in francesc(?)   feeds ɟ > j

ɟ > ∅ / [-cons] __ [-cons] $ F117 FLAG clayton/pope may have already taken care of this.

ɟ > ʝ / [-cons] __ [+cons] $ F117

n̪ > ʝ / ʝ __ ɛ $ FLAG this is really weird and we may be missing something about the stages of development here. HIT though! I'm pretty sure I've seen this nowhere.

d̪ ʝ > ʒ $ i really REALLY doubt that francesc never talked about this but if he did idk where he did

p > b / [-cons] __ l $ F167 but I added [-cons] to the conditioning

k > ∅ / s __ # $ F172

$ FLAG there is another r > n̪ but francesc says it only happens in one word and it's progressive instead of recessive dissimilation so i doubt it's even the same phenomenon.

u j > ˌo $ HIT? FLAG check to see if this is working/relevant also FLAG bc i forgot where i found this in francesc

{e;ɛ} > {i;i} / # ([-syl])* __ {[+front,+hi];[+nas];[+syl]} $ F68 FLAG idk what the input is supposed to be HIT? a isn't affected? HIT? doesn't happen in vowel-initial words? context should start with # ([-syl])+ maybe
{e;ɛ} > {i;i} / # ([-syl])* __ ([-syl])* {ˈe;ˈɛ} $ F68 FLAG idk about the input OR the context HIT? see above

r > s / __ s $ F166

ŋ > n̪ / __ s $ HIT? ish. just feeds next rule
n̪ > ∅ / __ s [+stres] $ F161+F163 (F163 being the one that makes it clear that this is only in the pretonic)

x s > ʃ / __ @ $ F154 not what francesc specifies but i wanted a rule that does something also HIT? added @

s s > ʃ ʃ / __ [+front,+hi,-cons]
s > ʃ / __ [+front,+hi,-cons] $ F99 FLAG unaffectedness of reína and si remains a mystery

l > r / __ [+syl] ({[+cons];[-cons]}) l $ F120

{k l;ɡ l} > {ʎ;ʎ} / [-cons] __ $ HIT?

l ʝ > ʎ $ F194

n̪ ʝ > ɲ $ this is in francesc but i forget where

=tempeh

ˈe > ˈə / __ {[+cons,-hi] [+syl];[+cons,-hi] [+cons,-hi];#} $ F40+42, not sure if francesc mentioned that any part of the following cluster being palatal blocked this but if he didn't then HIT?
ˈɛ > ˈe / __ {[-son];r [-cor] [+lo];r [-cor] [+cons];r [-cor] #;n̪ [+cor,-cont] [+lo];n̪ [+cor,-cont] #;m [+lab,-cont];w #} $ F34+35 FLAG bc i have a sneaking suspicion that this context is not good
ˈə > ˈɛ $ F39

m m > m $ M DEGEMINATION not in francesc(?)

$d̪ > s / [-cons] __ [+syl] $ F111+112 ALTHOUGH i think ð>z after the spirantization is far more likely (so i am replacing this with that)

[-cont,+voi,-son,-delrel] > [+cont,0delrel] / [-cons] __ [-cons] $ F109+110 FLAG fix citation

ʝ > ∅ / s __ $ i mean this is probably in francesc somewhere

l > d̪ / __ [+syl] l $ F120

[-hi,-lo,-prim] > [+tense] / __ [+prim] $ not in francesc

$r ʝ > ʝ r / [+syl] __
r ʝ > ʝ r / {#;[+cont];# [-cont];[+syl] [-cont];[αson,+cons] [-cont,αvoi];[-cont] [-cont]} [+syl] __ $ F195 although iirc he doesn't mention this intermediate ʝ stage also HIT? added conditioning!!!

[-lo,-cons,-prim,+round] > ∅ / [+stres] ([-syl,-cons]) [+cont,-son] [+cons,-nas,+cont] __ # $ supposed to be blocked when first element is r and allow r as the second element, and otherwise same as following rule
[-lo,-cons,-prim,+round] > ∅ / [+stres] ([-syl,-cons]) [+cont,-nas,+cons,-lat] {[+cons,+cont,-son];[+nas];[+lat]} __ # $ disjunction intended to block this apocope when the second element in the cluster is r. exceptions ([-round] vowels that delete here) are probably either analogical OR final e assimilates to o earlier in the word. FLAG investigate later
[-lo,-cons,-prim] > ∅ / [+stres] [+cont,-nas,+cons] {[-cont];[+cont,-voi]} __ # $ FLAG sometimes this happens after clusters beginning with l and sometimes it doesn't. i'm having a hard time telling whether it's a reborrowing thing or there's something i'm missing in the conditioning <- according to Wheeler (2007), this is a relchron issue. FIXED

=Apocope 1



$$$$$$$$$$ syncope 1

[+syl,-stres] > ∅ / [+stres] ([-cons,-syl]) {[-cont,-back];[+cont,-nas]} ([+cons,+lab,-nas]) __ {[+cons,+son,-nas];[+cont,-son,+voi,-cor];[+cont,-son,-voi];[-cont,-delrel]} [+syl] $ IMPLIED by F86+91 but not explicitly elaborated. also HIT? i added a lot of the conditioning FLAG to check back and see what francesc already said. postlocus conditioning intended to block syncope before ð and affricates.

[+syl,-stres] > ∅ / [+stres] ([-cons,-syl]) [+nas] __ {[+cons,+son,-nas];[+cont,-son,+voi,-cor];[+cont,-son,-voi];[-cont,-delrel,-hi]} [+syl] $ specific block against syncope between nasals and dorsal stops

$$$$$ ^^^^^ HUGE FLAG... above rule just isn't true?! figure out what we were trying to do later. but see #d̪ˈied̪ˌomˈin̪ikum#| *#d̪ˈizˌɔmˈen̪eɡe# | *#d̪ˈiumˈɛn̪ək#    | #d̪iwmˈeɲʒə# for proof that it's wrong

[+syl,-stres] > ∅ / [+stres,+back] ([-cons,-syl]) [-cont,-back] __ {[+cons,+son,-nas];[+cont,-son,+voi,-cor];[+cont,-son,-voi];[-cont,-delrel]} [+syl] $ specific vowel requirement for syncope after k

$$$ I want these more specific rules for fricatives, but implementing them is making the number go down :(
$[+syl,-stres] > ∅ / [+stres] ([-cons,-syl]) [+cont,-son,+voi] __ {[+cons,+son,-nas];[+cont,-son,+voi,-cor];[+cont,-son,-voi]} [+syl] $ for all voiced frics
$[+syl,-stres] > ∅ / [+stres] ([-cons,-syl]) [+cont,-son,-round,αlab,βcor,ɣfront,ɛback] __ [-cont,-delrel,-αlab,-βcor,-ɣfront,-ɛback] [+syl] $ for all voiced frics except beta before stops
$[+syl,-stres] > ∅ / [+stres,+round] ([-cons,-syl]) β __ [-cont,-delrel,-lab] [+syl] $ for beta before stops

[+syl,-stres] > ∅ / [+stres] ([-cons,-syl]) {[+cont];[+lab]} ([+cons,+lab,-nas]) __ [+delrel] [+syl] $ gives us what syncopes we do see before affricates. note that blocking syncope before affricates and giving the rule here only fixes one word (acutiare>agusar (which may also need to come out aguar anyway)) $ EDIT: this should also fix attitiare>atiar and partitionem>partio, it just isn't doing so yet $ EDIT EDIT: this is because the same block needs to be applied to other syncope rules.

[+syl,-stres] > ∅ / [+stres] [+son,+cons,αlab,βcor,ɣfront,ɛback] [-cont,αlab,βcor,ɣfront,ɛback] __ {[+cons,+son,-nas,-lat];[+cont,-son,+voi,-cor];[+cont,-son,-voi];[-cont,-delrel]} [+syl] $ not in francesc. postlocus conditioning intended to block syncope before ð and l.

[+syl,-stres] > ∅ / [+stres] [-cont,αlab,βcor,ɣfront,ɛback] [-cont,αlab,βcor,ɣfront,ɛback] __ {[+cons,+son,-nas,-lat];[+cont,-son,+voi,-cor];[+cont,-son,-voi];[-cont,-delrel]} [+syl] $ not in francesc. postlocus conditioning intended to block syncope before ð and l.

[+syl,-stres] > ∅ / [+stres] [+cons,+voi] __ [+nas] {[+syl,+lo] #;[+syl] @} $ ... HIT?
[+syl,-stres] > ∅ / [+stres] ([+cont,+voi])+ __ [+nas] {[+syl,+lo] #;[+syl] @} $ ... HIT?

[+syl,-stres] > ∅ / [+stres] [+nas] [+cons,+voi] w __ [+nas] [+syl] $ ...HIT? <--but this might just work better as an addition to syncope 2. feels really weird here tbh

$$$$$ RULES BELOW ARE ADAPTED FROM Wheeler, Max W. 2007. Syncope and apocope in the history of Catalan: an Optimality Theory approach. Valencia: Universitat de València(?). They don't work as well as the ones above, so abandoning for now.
$[+syl,-stres] > ∅ / [+stres] [+cons] __ {[-cont];m} [+syl] $ Wheeler says this should also happen after geminates, but this actually appears to be untrue?
$[+syl,-stres] > ∅ / [+stres] [+son,-nas] __ [+son,-lat] [+lo] $ Wheeler also gives Carolus>Carles (p. 11), so removing [+lo] for now. might add back later <--adding [+lo] does make this better
$[+syl,-stres] > ∅ / [+stres] [+cons] __ [+lat] $[+lo] $ always [+lo] except for a few exceptions, as noted by Wheeler. adding/removing [+lo] doesn't change accuracy, so removing it. (also complete lack of l-final words a huge giveaway that this is probably wrong)
$[+syl,-stres] > ∅ / [+stres] [+cons] __ [+nas] [+lo] $ per Wheeler p. 16
$[+syl,-stres] > ∅ / [+stres] [+nas,-front] __ r [+syl] $ per Wheeler p. 19
$[+syl,-stres] > ∅ / [+stres] ({s;[+son]}) [-cont] __ {[+son,-nas];[-cont]} [+syl] $ technically Wheeler implies last bit of conditioning should be [-cont,+voi], but we have the intervocalic voicing rule after posttonic syncope right now, and I intend to keep it there
$[+syl,-stres] > ∅ / [+stres] [+cont,-son,+voi] __ r [+lo] $ per Wheeler p. 19

=Syncope 1



w > u / [+cons] __ [+cons] $ HIT?

n̪ > r / m __ $ F157
m > b / [+lo] __ n̪ $ not in francesc
n̪ > ∅ / m __ $ not in francesc?
$ these don't seem to be doing anything. investigate later.

ð > d̪ / __ [-cont] $ technically manner assimilation makes sense as a rule. this still feels like a bad way to do things, though. i would rather just have frication come after the syncope. try to do this later. FLAG

ð ð > d̪ d̪ $ apparently this fortifies but only it only occurs in word 1195 adidipsum/adés so FLAG for review

ð > z $ this is just a complete merger at this point (not in francesc)

k > c / [+cor,-cont] __ $ not in francesc?

∅ > b / m __ [+son,+cons,-nas] $ F157
∅ > d̪ / n̪ __ [+son,+cons,-nas] $ FLAG fix citation

[-cont] > [+voi] / [-cont,+voi] __ [-cons] $ fixes all our problems i think

[+nas] ɟ > ɲ $ F162+188

c > ʃ / t̪ __ $ skipping some intermediate stages obviously. not(?) in francesc

c > t͡sʲ $ exists to feed F114

$ t̪ ʝ > t͡sʲ $ F182 through F185 i think SUPPRESSED ---- IT COMES OUT OF LATIN LIKE THIS

[-cont,-voi,-lab] > t / __ t͡sʲ $ F185 $ added -lab HIT?

$ t͡sʲ > d͡z / __ # $ F130+183   COMMENTED OUT bc i don't believe this actually happens but FLAG check back in francesc to see if there's actual evidence for it happening

t t͡sʲ > s s $ F185

t͡sʲ ʝ > s s $ F191

s t͡sʲ > ʃ $ HIT? ...not really because I think francesc says something about SCᵉ,ⁱ going to esh

t͡sʲ > s $ marr+F114

s s ʝ > ʃ $ F149+190

k > ɡ / # __ {r;l} [+syl] ([-cons,-syl]) {[-cont];s s} $ I PROMISE THE SS IS REAL idk why it does that but it definitely does.

=tempfsvz

{f;s} > {v;z} / {#;[-lab]} {[-cons];[-cont,+voi,-nas]} __ [+voi] $ HIT? specified context. somehow b blocks this, which is why the prelocus conditioning is nasty

t̪ ʃ > t͡ʃ $ not(?) in francesc

[-cont] > [+voi] / [+syl] __ [-cons]
[-cont] > [+voi] / [-cons] __ r [+syl] $ this one i added the [+syl]
$$$$$$ F108+110+114+*131* FLAG FIX CITATION

l l > ʎ $ F136 FLAG I think this needs moved way farther up in the cascade but need to investigate effects of this movement in detail before implementation

o > e / [-cons] (([+cons]) {[-son];[+nas]}) [+cons] __ # $ not in francesc (to my knowledge)

z > ∅ / [+syl,αround] __ [+stres,+tense,-lo,-αround] $ F111+112, but i'm making it more nuanced
z > ∅ / [+syl,-round] __ [+stres,+tense,-lo,-round]
z > ∅ / {[+front];[+stres,+tense]} __ [+stres,+lo]
z > ∅ / [-lo] __ ˈɛ

$ this is new z-deletion; not really a good way to formulate it but it has to do with crossing the mouth and decreasing height
z > ∅ / [+stres,αfront,+hi] __ {[+syl,-αfront,-hi,-tense];[+syl,-αfront,+lo]}
z > ∅ / [+stres,αfront,-hi,-lo,+tense] __ [+syl,-αfront,+lo]

ˈa w > ˈɔ $ F53
ˌa w > ˌɔ $ i doubt francesc ever addresses this but i feel like it's not paper-worthy
a w > ɔ $ F70 FLAG cite whatever else does this as i'm sure it comes up later too ALSO maybe output is o

v > β $ F109



$$$$$$$ SYNCOPE!!!!!!!!!!!!!!! 2!!!!!!!!!!!!!!!!

[-lo,+syl,-stres] > ∅ / [+syl,-stres] [-syl] __ [-son] [+stres] $ F77+78+79. I have reason to believe that the counterexamples in F78c are due to analogy.

=Syncope 2

$ for some reason only assimilates to voiceless. not in francesc
[-son,-lab] > [-voi] / [-voi] __
[-son,-lab] > [-voi] / __ [-voi]



$ɡ > ɟ / d̪ __ $ not in francesc (i think? francesc may have mentioned something like this...) EDIT: probably F189 but i'm not sure
$$$replaced by earlier rule

{p p;t̪ t̪;k k;b b;d̪ d̪;ɡ ɡ;s s;f f;ʝ ʝ;ʃ ʃ} > {p;t̪;k;b;d̪;ɡ;s;f;ʝ;ʃ} $ F135   DEGEMINATION RULE

{p;k;s;t̪;ʒ;ʝ;d̪} > {l;l;l;l;l;l;l} / [-cons] __ l $ F167+169+170+171 FLAG francesc implies that P'L was somehow CL in vulgar latin so look into that later i guess also HIT? bc i added [-cons]

l l > ʎ ʎ $ not in francesc

ʝ ʝ > d͡ʒ / [+prim] __ $ not in francesc TO MY KNOWLEDGE but it gives "i was in francesc" vibes yknow. also added conditioning

[+syl] > ∅ / [-cons] ([+cons]) [+cons,-lat] __ s # $ not in francesc (as far as i know) $$$$$ S SYNCOPE

k > x / __ t̪ $ not in francesc and only serves to feed x>...>j

$$$following replaced with the even followinger
$$$x > ∅ / __ t̪ [+stres] $ F152 not what francesc specifies but i wanted a rule that does something
$$$x > j / __ t̪ $ F151 not what francesc specifies but i wanted a rule that does something
x > ç / __ [+cor] $ conditioning here is not necessary because all x's at this point meet this condition. just wanted to include the motivation for the change
ç > ʝ $ complete merger here

ʝ > j / __ [+cons] $ not in francesc but would've been in francesc if he had mentioned an intermediate ʝ stage

d z > d͡z $ so this probably just needs to be in the cascade more than once to cover all our bases.

[+cons] > ∅ / {[-cont,-nas];r} __ {[-son];[+nas]} $ F175 $ for inclusion of r, see catorze (HIT?)

k > ∅ / __ s k $ F175 (shown but not described)

$ɟ > ʒ $ F103+186+187 replaced with following
ɟ > ʝ $ and yes, i believe this is unconditioned

$ˈe > ˈi / __ ([-syl])* ʝ $ F45 $ replaced with following
[+front,-hi,-lo,+tense] > [+hi] / __ ([-syl])* ʝ $ FLAG THIS NEEDS TO BE BLED BY DELETION or some other solution (i think we have options actually)

[-cont] > ∅ / [+cons] __ [-cont,-son] $ HIT?

d̪ > t̪ / t̪ __ $ F142+147

t̪ > n̪ / __ n̪ $ F143

n̪ n̪ > ɲ $ F136

n̪ > r / n̪ ([-son])* [+syl] ([-son])* __ ([-son])* [+syl] ([-son])* n̪ $ F120

n̪ > l / r ([-son])* [+syl] ([-son])* __ ([-son])* [+syl] ([-son])* n̪ $ F120

$n̪ > r / __ ([-son])* [+syl] ([-son])* n̪ $ F120
n̪ > r / __ [+syl] ([-son])* n̪ $ F120 updated

r > ɾ / {[-stres,+syl];[-cons,-syl];[+nas];[-son];[+lat]} __ {[-cons];[+nas];[-son];[+lat]} $ not in francesc. conditioning intended to make this rule occur between everything except r or a word boundary. also doesn't occur after a stressed vowel. [+lat] included in conditioning just for completeness's sake but i don't believe there are any rl or lr sequences
r > ɾ / [+stres] __ [-cons] $ not in francesc

i > j / [+syl] __ $ not in francesc but not particularly interesting
u > w / [+syl] __ $ see above

$ˈe j > ˈi $ F151
$...replaced with:
[+front,-lo,αstres,βprim] j > [+hi,+tense,αstres,βprim] ∅

${ˈo j;ˈɔ j} > {ˈu;ˈu} $ i think this was in francesc but idr where
$...replaced with:
[+back,-lo,αstres,βprim] > [+hi,+tense,αstres,βprim] / __ j
$...and also:
[+back,-lo,αstres,βprim] > [+hi,+tense,αstres,βprim] / __ ([-syl])* ʝ

z > j / __ β $ this only affects one word and is sorta dubious so FLAG for removal if we decide to get rid of it (actually i'm starting to see other examples of it maybe happening in other places...)

[-cont] > [+voi] / [-cons] __ r $ F144+153 $ HIT? added [-cons]

b > w / [-cons] __ ʝ [+stres] $ F180 HIT? only happens to b AND HIT? added [-cons]    also there needs to be an intermediate stage of β i mean come on FLAG

[+voi,+cont,-son] > w / __ [+cons] $ F141 for v doing this but i think the rest is HIT?

β > ∅ / __ [+syl,+lab,+stres,+tense] $ F109 HIT? added +tense but maybe francesc actually did describe that but idk bc he REFUSES TO USE IPA

$$$$$SUPPRESSED overfitting. only happens to bovinum/buina(unsure of this spelling). more likely that unstressed V stress i > stressed Vj can reach around voiced frics (maybe even more)
$β > ∅ / [+round] __ [+stres]

β > ∅ / ˈu __ ɾ $ HIT?

{ɡ;ʒ} > {∅;∅} / __ {d̪;k} $ F156 not what francesc specifies but i wanted a rule that does something FLAG fix this to include intermediate stages

[+syl,-stres] > ∅ / [+stres] __ @ $ there's no way this isn't in francesc but idk where it is HIT? added @

ʝ > i / [+lab,+cons] __ $ F192 HIT? condition wasn't only m __

ˈe > ˈi / __ [+nas] [+front,+hi] $ not in francesc $ FLAG i want to put this before the great e shift.

$n̪ > ɲ / __ ʝ $ F193 (slightly modified to better capture distinct stages) $REPLACED BY FOLLOWING RULE
n̪ > ɲ / [+front,+hi,-cons] __ [+front,+hi] $ not in francesc(?)

[-lo,-cons,-prim] > ∅ / [+syl] {[-cont,-delrel];[+cons,+cont]} ([-cons,-syl]) __ # $ disallowed after affricates



$[-lo,-cons,-prim] > ∅ / __ # $ from francesc/marr. replaced by the better ones below.
$$$$$$$ BETTER FINAL VOWEL DELETIONS
[-lo,-cons,-prim] > ∅ / [+syl] {[-cont,-delrel];[+cons,+cont]} ([-cons,-syl]) __ # $ disallowed after affricates
[-lo,-cons,-prim] > ∅ / [-cons] [+cons,+son,-lat] {[+cons,-delrel];[+cons,+cont,-son];[+nas]} __ #

ʝ > i / [+cons] __ # $ not in francesc.

[-cons,-prim] > ∅ / [-cons] l [+nas] __ #
[-lo,-cons,-prim] > ∅ / i __ #

=Apocope 2



r r > r $ F135		R DEGEMINATION (SEPARATE FROM OTHER DEGEMINATION FOR SOME REASON)

l > ∅ / __ s @ $ HIT? was this in francesc?! also added @

ŋ > n̪ / __ [+ant] $ not in francesc but not noteworthy

$ɡ > ∅ / __ ˈa $ F115 COMMENTED OUT according to our data, this is a complete and total lie
$ɡ > ∅ / [+stres] __ [+round,+syl] $ F116 COMMENTED OUT see above

{k;ɡ} > {w;w} / __ m $ F155 FLAG idk that this is doing anything

{r;ɾ} > {∅;∅} / [+syl] ([-syl])* [+syl] ([-syl])* __ # $ F128+129 definitely only polysyllabics this time $ FLAG happens in heri>hir???

{r;ɾ} > {l;l} / [+syl] __ ([-son])* [+syl] ([-son])* {r;ɾ} $ F120
${r;ɾ} > {l;l} / [+syl] __ ([-son])* [+syl] ([-son])* {r;ɾ} $ FLAG make a version of the above that 1. happens in more words and 2. doesn't mess things up

r > n̪ / __ ([-son])* [+syl] ([-son])* r $ F120

b > b b / [-cons] __ l $ F167
ɡ > ɡ ɡ / [-cons] __ l $ HIT?

n̪ > ∅ / [-cons] __ # $ F127. if i understand correctly the exceptions to this are all either rebracketing or analogy. $ EDIT: added [-cons]

b > ∅ / m __ {[-cons];#} $ F158+173 $ HIT? added post-locus conditioning
d̪ > ∅ / n̪ __ {[-cons];#} $ F160+173 $ HIT? see above

n̪ > r / @ __ ([+syl]) m $ F159 $ HIT? added @

=tempj

ʝ > ∅ / [+syl] __ [-cons,-lo,+front] @ $ not in francesc (to my knowledge)

=temphiatus $$$$$$$$the following rule is messing a couple of things up. it probably goes somewhere else in the cascade but moving it to the place i think it should go is causing more problems.

[+syl,-prim] ˈi > [+stres,+prim] j / __ @ $ F230 HIT? added @

[+syl,-stres] > ∅ / __ [+stres] $ F229

{ʎ;ɲ} > {l;n̪} / ˈi __ [-cons] $ F136 if this is where this happens in the relchron, it's dissimilation, which is what francesc says if i'm not mistaken. FLAG just bc it's weird and HIT? bc i added [-cons]

t̪ > ∅ / {n̪;[-stres]} __ # $ F172 + HIT? on the [-stres] HIT? removed s from context



[+stres,-prim] > [+prim] / {#;# ([-syl])* [-stres]} ([-syl])* __ ([-syl])* {#;[-stres] ([-syl])* #;[-stres] ([-syl])* [-stres] ([-syl])*#} $ HIT?

[+stres,-prim] > [-stres] $ marr



t̪ > d̪ / __ ʒ $ F189

$ ∅ > t̪ / r __ # $ F129 according to francesc this happens in oriental. appears to be incorrect, find problem etyma later FLAG

[-lo,-hi,+syl] > e / [+stres] ([-syl]) [+cons,+son] ([-syl]) __ # $ F91 FLAG for output. also HIT? added -hi to input

$ e > ɔ / ˈɔ ([-syl])* __ # $ F92 FLAG unsure of output also this rule is just awful. and possibly analogic because i think it only affects masculine nouns

s > j / __ [+nas] $ F148

$x > w / __ r $ F153 not what francesc specifies but i wanted a rule that does something COMMENTED OUT doesn't appear to be doing anything?

$r > l / __ b [+syl] r $ F166 for deletion this rule may be redundant $ EDIT does appear to be redundant

=tempething
ˈe > ˈɛ / [-hi,+cons] __ (n̪) [-hi,+cons] $ F39 $ FLAG it doesn't make sense that this should be working. this feels like a miss on our vowel shift towards the beginning

$$$$$ REPLACED WITH FOLLOWING
$j > ∅ / __ ˈi $ F151
$j > ∅ / ˈi __ $ F151
j > ∅ / [+front,+hi,+syl] __
j > ∅ / __ [+front,+hi,+syl]

w > ∅ / __ [+hi,+back,-cons] $ not in francesc (to my knowledge)
w > ∅ / [+hi,+back,-cons] __ $ not in francesc (to my knowledge)

ˈa > ˈe / __ {j;ʃ} $ F51 doesn't appear to be doing anything

j > ∅ / ˈe __ $ F51

a j > e $ implied by F67

$ˈa > ˈe / __ [+cons] ʝ $ F67 $ actually this is plain wrong
$o > e / __ ([-syl])* ˈo $ F73 COMMENTED OUT doesn't appear to be doing anything?
${ˈo;o} > {ˈu;u} / __ [+front,+hi] $ F59+72	this makes it worse
$ˈa > ˈɛ / __ r r $ F50 $ makes it worse

ɾ > ∅ / [-cont] __ ([+syl]) ([-syl])* ɾ $ F174 HIT? added [-cont]
s > ∅ / @ __ ([+syl]) ([-syl])* s $ F174 HIT? added @

$ FLAG F152 says a lot about C'T secundari but i think most of it is just vowel stuff that affects everything else

$l > ∅ / __ [+cons] $ F165	this makes it worse
$ʝ > j / ˈe __ $ not in francesc COMMENTED OUT bc i think it's wrong. another rule does this
$ ˈɛ > ˈi / __ ([-syl])* ʝ $ F37 FLAG this is commented out bc i think j metathesis just activates F36 but investigate more later



$ FLAG F50 says something about ˈa > ˈɛ before esh but it seems dialectal.
	$ F50 also says analogy causes the same change to occur in verbs without esh. the analogy has nothing to do with esh btw
		$ and finally F50 tells us that this change occurs in proclitic monosyllables but i doubt i could accurately model that with this software.

{ˈɔ;ˈo} > {ˈu;ˈu} / __ j $ F55 -- francesc says there's an intermediate uei, and also that some other guy thinks there's an intermediate uoi instead. both feel quite unnecessary

ˈɔ > ˈo / __ [+nas] [-cont,-nas] $ F57 FLAG may not need -nas in the second matrix; included for safety

${e;ɛ} > {i;i} / # ([-syl])+ __ ([-syl])* [+front,-hi,-lo,-cons] $ F68
${a;e;ɛ} > {i;i;i} / # ([-syl])* __ ([-syl])* [+syl] ([-syl])* [+hi,-cons] $ F68
	$...makes it worse for BOTH of these

${e;ɛ} > {o;o} / # ([-syl])* __ [+lab,+nas] $ F69 FLAG for soooooo many reasons 1. +nas may be unnecessary 2. unsure about output 3. revisit this number for the assimilation thing in b EDIT: "the assimilation thing in b" is a dialectal thing HIT? a isn't affected? $ makes it worse

{e;ɛ} > {o;o} / __ l # $ F82 $ FLAG only affects 479 scandalum>escandol



[-syl,+front,αlat] > ∅ / [-syl,+front,-αlat] __ $ "oops too many palatals" generalized!!!
$ʎ > ∅ / j __ $ not in francesc. calling it the "oops too many palatals" rule
$ʝ > ∅ / ʎ __ $ ...more "oops too many palatals?"



ʝ > ʒ $ F119   YOD RULE/IOD RULE/JOD RULE

ʒ > d͡ʒ / __ # $ F131 seems to imply this FLAG bc not sure



ʒ > z / [+ant] [+ant] __ $ not in francesc. only affects one word as far as i can see (undecem/onze). look for other examples of this.
$need to follow this up with either a rule that deletes the d in this cluster (bleeding the d z>dz rule below) or one that makes dz>z/n__. alternatively, we could have d>0/n__ come before syncope 1, but every time i've tried to move that rule, it makes things worse.
$follow-up to above: going with a deaffrication rule. seems like the easiest to implement, and timing stuff is notoriously wacky in nasal+(stop)+fricative clusters. this rule being placed after affricate synthesis rules



d̪ z > d͡z $ F146+172
d̪ ʒ > d͡ʒ $ F189

[+delrel] > [+cont,0delrel] / [+son,+cons] __ $ don't think this was in francesc?

z > j / i __ #
j > ∅ / i __ # $ neither of these are in francesc. probably not doing everything they need to do yet since we still have vowel height issues

[-cont,+voi,-son,-delrel] > [+cont,0delrel] / {[-cons];l} __ {[-cons];ɾ} $ F109+110 FLAG fix citation HIT? added ;l and ;ɾ

w > ∅ / [-son,+back] __ {[+front,-lo];#} $ i'm sure this is in francesc somewhere but idk where FLAG FIX CITATION (also I added #)

[+voi,+cont,-son] > w / [+stres] __ # $ F130 AGAIN. THIS MAKES NO SENSE. also HIT? because i simplified it a lot. also possible that there is an intermediate stage > β >, which makes more sense to me than z > w

ð > ∅ / [-cont] ɾ [+syl] __ [+stres] $ not in francesc ALSO really weird?

{ˈɔ;ˈo} > {ˈɛ;ˈɛ} / [-lab,-back] __ w # $ F63 HIT? i don't think francesc said anything about the [-lab,-back]

ˈe > ˈɛ / __ w $ not in francesc HIT?
ˈe > ˈɛ / __ [+hi,+front,+cons] $ not in francesc HIT?

ˈɛ > ˈe / __ ʎ $ not in francesc

ˈe > ˈi / __ [+syl] #

$β > w / __ {t̪;r;l} $ F137+140+141 and F168 $ i have it phrased like this bc idk whether it happens pre- or post- r>ɾ/where it happens COMMENTED OUT because an earlier rule makes this redundant

$ p > b / @ __ t̪ $ F137+139
$ t̪ > d̪ / b __ [-cons] $ F137
	$EDIT: this is not working. choosing to replace it with the cluster getting voiced as a whole unit.
p t̪ > b d̪ / [-cons] __ [-cons] [+lat] $ F137+139, but I added [+lat]. this fix seems iffy. HIT?

b > β / [-nas] __ ɾ $ i THINK this is in francesc but idk where



$ FLAG revisit F231 if j insertion becomes important and also    the  Other    insertion



[+round,-stres,+syl] > u $ FLAG cite the appropriate francescs later

a > ə
[-hi,-stres,+syl] > ə / __ {[-stres];[+stres,-lo];[+cons];[-cons,-syl];#} $ FLAG cite the appropriate francescs later $ reduction block from https://diposit.ub.edu/dspace/bitstream/2445/203629/1/Lloret_Prieto_Catalan.pdf

e > i $ appears to happen in all words with e at this stage? <--FLAG probably not; investigate later
ɛ > e / __ [+syl] $ only affects one word (so far), but it makes sense

$ə > ∅ / r __ [+cons] $ F226 $ no
$ə > ∅ / [+cons] __ r $ F226 $ no



[-cont,-voi,αcor,βfront,ɣback,ðlab] > ∅ / [+nas,αcor,βfront,ɣback,ðlab] __ s $ not in francesc(?)



[+nas] > m / __ [+lab,+cons] $ again, we just need a good nasal place assimilation rule
m > ɱ / __ f $ again, we just need a good nasal place assimilation rule
[+nas] > n̪ / __ s $ AGAIN again, we just need a good nasal place assimilation rule $ FLAG this needs to be counterfed by consonant cluster simplification.



ɲ > ŋ k / [+front,+hi,+syl] __ # $ word-final fortition, likely because in# and iny# would be difficult to tell apart. not in francesc



[-son] > [-voi] / __ # $ F131



ˈe > ˈi / __ t͡ʃ $ only affects 2 etyma, FLAG review for deletion?